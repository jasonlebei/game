
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>2026 ä¸™åˆé©¬å¹´ Â· å®˜æ–¹è´ºå²è‡³å°Šç‰ˆ</title>
    <style>
        /* [PART 1: ç³»ç»Ÿæ ¸å¿ƒå˜é‡å®šä¹‰] */
        :root {
            --p-gold: #c5a059;
            --s-gold: #fdf5e6;
            --t-gold: #8b6d31;
            --fire-red: #d32f2f;
            --obsidian: #050505;
            --glass-white: rgba(255, 255, 255, 0.03);
            --gold-gradient: linear-gradient(135deg, #bf953f 0%, #fcf6ba 45%, #b38728 70%, #fbf5b7 100%);
            --red-gradient: linear-gradient(145deg, #e63946 0%, #7b1313 100%);
            --elastic-curve: cubic-bezier(0.68, -0.6, 0.32, 1.6);
            --smooth-curve: cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* [PART 2: å…¨å±€åŸºç¡€æ¶æ„] */
        * {
            margin: 0; padding: 0; box-sizing: border-box;
            -webkit-user-select: none; /* é’ˆå¯¹ Chrome/Safari/ç§»åŠ¨ç«¯ */
            user-select: none;         /* æ ‡å‡†å±æ€§ï¼Œé’ˆå¯¹æ‰€æœ‰ç°ä»£æµè§ˆå™¨ */
            -webkit-tap-highlight-color: transparent; 
        }

        body {
            background: var(--obsidian);
            color: #fff;
            font-family: -apple-system, "Noto Sans SC", "PingFang SC", sans-serif;
            overflow: hidden;
            width: 100vw; height: 100vh;
            display: flex; align-items: center; justify-content: center;
            perspective: 2000px;
        }

        /* [PART 3: æ¸²æŸ“ç”»å¸ƒå¼•æ“å±‚] */
        .rendering-layer {
            position: fixed; inset: 0; pointer-events: none;
        }
        #canvas_stars { z-index: 1; opacity: 0.7; }
        #canvas_fireworks { z-index: 5; }

        /* [PART 4: 3D ä¸»è§†å£è®¾è®¡] */
        .main-stage {
            position: relative; z-index: 100;
            width: 90%; max-width: 480px;
            transform-style: preserve-3d;
            will-change: transform;
            transition: transform 0.1s linear;
        }

        .hero-panel {
            background: rgba(15, 15, 15, 0.75);
            backdrop-filter: blur(35px); -webkit-backdrop-filter: blur(35px);
            border-radius: 60px; padding: 80px 40px;
            text-align: center; border: 1px solid rgba(197, 160, 89, 0.2);
            box-shadow: 0 50px 150px rgba(0,0,0,0.9);
            transform-style: preserve-3d;
        }

        /* æµå…‰è¾¹æ¡†åŠ¨ç”» */
        .hero-panel::after {
            content: ""; position: absolute; inset: -2px;
            border-radius: 62px; background: var(--gold-gradient);
            z-index: -1; opacity: 0.3; filter: blur(10px);
            animation: pulseGlow 6s infinite alternate;
        }

        @keyframes pulseGlow {
            from { opacity: 0.2; transform: scale(0.98); }
            to { opacity: 0.4; transform: scale(1.02); }
        }

        /* æ–‡å­—æ’ç‰ˆç¾å­¦ */
        .meta-label {
            font-size: 0.9rem; color: var(--p-gold);
            letter-spacing: 15px; margin-bottom: 30px;
            transform: translateZ(50px); opacity: 0.8;
        }

        .main-title {
            font-size: 5.5rem; font-weight: 900;
            background: var(--gold-gradient); -webkit-background-clip: text;
            background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 20px; transform: translateZ(120px);
            filter: drop-shadow(0 20px 40px rgba(0,0,0,0.6));
        }

        .main-wish {
            font-size: 1.4rem; line-height: 2.5; color: #f0f0f0;
            margin: 40px 0 60px; transform: translateZ(80px);
        }
        .main-wish b { color: var(--s-gold); text-shadow: 0 0 15px var(--p-gold); }

        /* [PART 5: äº¤äº’å¼ç»„ä»¶æŒ‰é’®] */
        .interaction-stack { display: flex; flex-direction: column; gap: 20px; transform: translateZ(150px); }
        .lux-btn {
            width: 100%; padding: 25px; border-radius: 30px; border: none;
            font-size: 1.25rem; font-weight: 900; cursor: pointer;
            transition: var(--smooth-curve); display: flex; align-items: center; justify-content: center; gap: 12px;
        }
        .btn-gold-fill { background: var(--gold-gradient); color: #000; box-shadow: 0 15px 40px rgba(191,149,63,0.35); }
        .btn-gold-fill:active { transform: scale(0.94); filter: brightness(1.2); }
        .btn-glass { background: rgba(255,255,255,0.03); color: var(--p-gold); border: 1.5px solid var(--p-gold); }

        /* [PART 6: 2026 æ·±åº¦å®šåˆ¶å¼¹çª—ç³»ç»Ÿ] */
        .modal-engine {
            position: fixed; inset: 0; z-index: 2000;
            display: flex; align-items: center; justify-content: center;
            visibility: hidden; opacity: 0; transition: all 0.5s var(--smooth-curve);
        }
        .modal-engine.active { visibility: visible; opacity: 1; }

        .modal-overlay {
            position: absolute; inset: 0; background: rgba(0,0,0,0.9);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
        }

        .modal-dialog {
            position: relative; width: 88%; max-width: 420px;
            background: #fff; border-radius: 50px; padding: 70px 40px;
            text-align: center; color: #111; z-index: 10;
            transform: scale(0.6) rotateX(20deg);
            transition: all 0.6s var(--elastic-curve);
            box-shadow: 0 40px 100px rgba(0,0,0,0.6);
        }
        .modal-engine.active .modal-dialog { transform: scale(1) rotateX(0); }

        .luck-icon {
            width: 100px; height: 100px; background: var(--red-gradient);
            border-radius: 50%; margin: 0 auto 30px;
            display: flex; align-items: center; justify-content: center;
            color: #fff; font-size: 3rem; font-weight: 900;
            box-shadow: 0 15px 30px rgba(211,47,47,0.3);
        }

        /* [PART 7: æŒ‚ä»¶ä¸è¾…åŠ©ç»„ä»¶] */
        .luck-bag-trigger {
            position: fixed; bottom: 50px; right: 40px; width: 90px; height: 120px;
            background: var(--red-gradient); border-radius: 22px; z-index: 500;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 25px 50px rgba(0,0,0,0.6); cursor: pointer;
            animation: floatAnim 4s infinite ease-in-out;
        }
        @keyframes floatAnim {
            0%,100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(10deg); }
        }

        .music-ctrl {
            position: fixed; top: 40px; left: 40px; z-index: 500; width: 60px; height: 60px;
            border-radius: 50%; background: var(--glass-white); border: 1.5px solid var(--p-gold);
            display: flex; align-items: center; justify-content: center; color: var(--p-gold);
        }

        .scroll-indicator {
            position: fixed; bottom: 30px; width: 100%; text-align: center;
            font-size: 0.8rem; color: #555; letter-spacing: 5px; text-transform: uppercase;
        }
    </style>
</head>
<body>

<canvas id="canvas_stars" class="rendering-layer"></canvas>
<canvas id="canvas_fireworks" class="rendering-layer"></canvas>

<div class="music-ctrl" id="btn_music" onclick="App.audio.toggle()">ğŸµ</div>

<div class="main-stage" id="stage_3d">
    <div class="hero-panel">
        <p class="meta-label">2026 BINGWU YEAR OF HORSE</p>
        <h1 class="main-title">é©¬åˆ°æˆåŠŸ</h1>
        <div class="main-wish">
            ä¸€é©¬å½“å…ˆå¥”<b>é”¦ç»£å‰ç¨‹</b><br>
            ä¸‡é©¬å¥”è…¾ç»˜<b>å®ä¼Ÿè“å›¾</b><br>
            <p style="font-size:0.9rem; opacity:0.4; margin-top:15px; letter-spacing:2px;">é¾™é©¬ç²¾ç¥ Â· æ°”è´¯é•¿è™¹</p>
        </div>
        <div class="interaction-stack">
            <button class="lux-btn btn-gold-fill" onclick="App.fx.manual(event)">ç‡ƒæ”¾ç››ä¸–çƒŸèŠ±</button>
            <button class="lux-btn btn-glass" onclick="App.social.share()">åˆ†äº«é©¬å¹´ç¥ç¦</button>
        </div>
    </div>
</div>

<div class="luck-bag-trigger" onclick="App.ui.openModal()">
    <div style="width:50px;height:50px;background:#fcf6ba;border-radius:50%;border:4px solid #fff;display:flex;align-items:center;justify-content:center;color:#333;font-weight:900;font-size:1.5rem;">ç¦</div>
</div>

<div class="modal-engine" id="modal_luck">
    <div class="modal-overlay" onclick="App.ui.closeModal()"></div>
    <div class="modal-dialog">
        <div class="luck-icon">ç¦</div>
        <p style="color:#aaa; font-size:0.9rem; margin-bottom:15px; letter-spacing:5px;">ä¸™åˆé©¬å¹´ Â· ç¥ˆç¦ç­¾</p>
        <h2 id="luck_title" style="font-size:2.8rem; color:var(--fire-red); margin-bottom:20px;">ä¸‡äº‹å¤§å‰</h2>
        <p id="luck_desc" style="font-size:1.1rem; line-height:2; color:#444; margin-bottom:45px;">ç­–é©¬æ‰¬é­ï¼Œå¿—åœ¨åƒé‡Œã€‚2026å¹´æ‚¨çš„æ¯ä¸€æ­¥éƒ½å°†å……æ»¡åŠ›é‡ä¸å¥½è¿ã€‚</p>
        <button class="lux-btn btn-gold-fill" onclick="App.ui.claimLuck(event)">æ‰¿æ¥è¿™ä»½ç¦æ°”</button>
    </div>
</div>

<div class="scroll-indicator">æ‘‡æ™ƒæ‰‹æœº Â· å¼€å¯ç››å¹´</div>

<audio id="audio_bgm" loop src="https://actions.google.com/sounds/v1/foley/festive_music.mp3"></audio>

<script>
/**
 * [APP CORE ENGINE] 
 * å·¥ä¸šçº§æ¨¡å—åŒ–å°è£…ï¼Œç¡®ä¿ 600 è¡Œè§„æ¨¡çš„é€»è¾‘åšåº¦ä¸ç¨³å®šæ€§
 */
const App = (() => {
    // å†…éƒ¨ç§æœ‰å­˜å‚¨
    const _state = {
        ctx_f: null, ctx_s: null,
        w: 0, h: 0,
        particles: [],
        stars: [],
        luckPool: [
            {t: "ä¸€é©¬å½“å…ˆ", d: "2026å¹´ï¼Œæ‚¨çš„äº‹ä¸šå°†å¦‚è„±ç¼°éªé©¬ï¼Œæ­¥æ­¥é¢†å…ˆï¼Œåœ¨å‰è¡Œçš„é“è·¯ä¸Šæ— å¯é˜»æŒ¡ï¼"},
            {t: "é©¬åˆ°æˆåŠŸ", d: "å¿ƒä¹‹æ‰€å‘ï¼Œçš†ä¸ºå¦é€”ã€‚é©¬å¹´æ‚¨å°†æ‹¥æœ‰å¦‚ç¥åŠ©èˆ¬çš„ç›´è§‰ï¼Œæ— è®ºä½•äº‹å‡èƒ½æ‰‹åˆ°æ“’æ¥ã€‚"},
            {t: "é¾™é©¬ç²¾ç¥", d: "ç¥æ‚¨é©¬å¹´ç¥é‡‡å¥•å¥•ã€‚æ‹¥æœ‰æ— å°½æ´»åŠ›å»å¼€æ‹“å…¨æ–°é¢†åŸŸï¼Œæ”¶è·æ»¡æ»¡å¹¸ç¦ä¸å®‰åº·ã€‚"},
            {t: "ä¸‡é©¬å¥”è…¾", d: "è´¢æºå¹¿è¿›ï¼Œä¸‡è±¡æ›´æ–°ã€‚æ‚¨çš„æ‰åå°†åœ¨2026å¹´å¾—åˆ°å…¨æ–¹ä½é‡Šæ”¾ï¼ŒåŠ¿å¦‚ç ´ç«¹ï¼"}
        ]
    };

    /**
     * [PARTICLE ENGINE]
     * é«˜çº§çƒŸèŠ±ç²’å­ä»¿çœŸç³»ç»Ÿ
     */
    class Particle {
        constructor(x, y, hue) {
            this.x = x; this.y = y; this.hue = hue;
            const angle = Math.random() * Math.PI * 2;
            const force = Math.random() * 9 + 4;
            this.vx = Math.cos(angle) * force;
            this.vy = Math.sin(angle) * force;
            this.alpha = 1;
            this.friction = 0.95;
            this.gravity = 0.16;
            this.decay = Math.random() * 0.012 + 0.008;
            this.trace = [{x: x, y: y}];
        }
        update() {
            this.vx *= this.friction;
            this.vy *= this.friction;
            this.vy += this.gravity;
            // æ¨¡æ‹Ÿæµä½“éšæœºæ³¢åŠ¨
            this.vx += (Math.random() - 0.5) * 0.2;
            this.x += this.vx;
            this.y += this.vy;
            this.alpha -= this.decay;
            this.trace.push({x: this.x, y: this.y});
            if (this.trace.length > 6) this.trace.shift();
        }
        draw(ctx) {
            ctx.beginPath();
            ctx.moveTo(this.trace[0].x, this.trace[0].y);
            for(let p of this.trace) ctx.lineTo(p.x, p.y);
            ctx.strokeStyle = `hsla(${this.hue}, 100%, 75%, ${this.alpha})`;
            ctx.lineWidth = 3; ctx.lineCap = 'round'; ctx.stroke();
            
            ctx.beginPath();
            ctx.arc(this.x, this.y, 1.5, 0, Math.PI * 2);
            ctx.fillStyle = `#fff`; ctx.fill();
        }
    }

    /**
     * [FX MODULE] 
     * ç”»å¸ƒæ¸²æŸ“ä¸è§†è§‰åé¦ˆå±‚
     */
    const fx = {
        init() {
            const canvas_f = document.getElementById('canvas_fireworks');
            const canvas_s = document.getElementById('canvas_stars');
            _state.ctx_f = canvas_f.getContext('2d');
            _state.ctx_s = canvas_s.getContext('2d');
            this.resize();
            window.addEventListener('resize', () => this.resize());
            this.loop();
        },
        resize() {
            _state.w = window.innerWidth;
            _state.h = window.innerHeight;
            document.querySelectorAll('.rendering-layer').forEach(c => {
                c.width = _state.w; c.height = _state.h;
            });
            this.drawStars();
        },
        drawStars() {
            const ctx = _state.ctx_s;
            ctx.clearRect(0,0,_state.w,_state.h);
            for(let i=0; i<200; i++) {
                ctx.beginPath();
                ctx.arc(Math.random()*_state.w, Math.random()*_state.h, Math.random()*1.5, 0, Math.PI*2);
                ctx.fillStyle = `rgba(255,255,255,${Math.random()*0.5})`;
                ctx.fill();
            }
        },
        manual(e) {
            if(e) e.stopPropagation();
            const x = (e && e.clientX) ? e.clientX : Math.random() * _state.w;
            const y = (e && e.clientY) ? e.clientY : Math.random() * (_state.h * 0.5);
            const hue = Math.random() * 360;
            for(let i=0; i<85; i++) _state.particles.push(new Particle(x, y, hue));
            if(navigator.vibrate) navigator.vibrate(40);
        },
        loop() {
            const ctx = _state.ctx_f;
            ctx.globalCompositeOperation = 'destination-out';
            ctx.fillStyle = 'rgba(0,0,0,0.25)';
            ctx.fillRect(0,0,_state.w,_state.h);
            ctx.globalCompositeOperation = 'lighter';

            for(let i = _state.particles.length-1; i >=0; i--) {
                const p = _state.particles[i];
                p.update(); p.draw(ctx);
                if(p.alpha <= 0) _state.particles.splice(i, 1);
            }
            if(Math.random() < 0.018) this.manual();
            requestAnimationFrame(() => this.loop());
        }
    };

    /**
     * [SENSOR MODULE] 
     * 3D å§¿æ€ä¸åŠ¨æ€è¿½è¸ª
     */
    const sensors = {
        init() {
            const el = document.getElementById('stage_3d');
            // é¼ æ ‡åç§»ç›‘å¬
            window.addEventListener('mousemove', (e) => {
                const rx = (e.clientX - _state.w/2) / 35;
                const ry = (e.clientY - _state.h/2) / 35;
                el.style.transform = `rotateY(${rx}deg) rotateX(${-ry}deg)`;
            });
            // æ‰‹æœºé™€èºä»ªç›‘å¬
            window.addEventListener('deviceorientation', (e) => {
                if(!e.beta) return;
                const gx = e.gamma / 1.2;
                const gy = (e.beta - 45) / 1.2;
                el.style.transform = `rotateY(${gx}deg) rotateX(${-gy}deg)`;
            });
            // æ‘‡ä¸€æ‘‡æ£€æµ‹
            let lastX, lastY, lastZ, lastTime = 0;
            window.addEventListener('devicemotion', (e) => {
                const acc = e.accelerationIncludingGravity;
                if(!acc) return;
                const curTime = Date.now();
                if((curTime - lastTime) > 100) {
                    const diffTime = curTime - lastTime;
                    const speed = Math.abs(acc.x + acc.y + acc.z - lastX - lastY - lastZ) / diffTime * 10000;
                    if(speed > 2800) fx.manual();
                    lastTime = curTime;
                    lastX = acc.x; lastY = acc.y; lastZ = acc.z;
                }
            });
        }
    };

    /**
     * [UI & MODAL MODULE] 
     * æ ¸å¿ƒäº¤äº’é€»è¾‘ä¸å¼¹çª—æ§åˆ¶
     */
    const ui = {
        openModal() {
            const luck = _state.luckPool[Math.floor(Math.random()*_state.luckPool.length)];
            document.getElementById('luck_title').innerText = luck.t;
            document.getElementById('luck_desc').innerText = luck.d;
            document.getElementById('modal_luck').classList.add('active');
        },
        closeModal() {
            document.getElementById('modal_luck').classList.remove('active');
        },
        claimLuck(e) {
            this.closeModal();
            // è¿çˆ†æ•ˆæœ
            for(let i=0; i<3; i++) {
                setTimeout(() => fx.manual({clientX: _state.w/2, clientY: _state.h/2}), i * 300);
            }
        }
    };

    const audio = {
        toggle() {
            const p = document.getElementById('audio_bgm');
            const b = document.getElementById('btn_music');
            if(p.paused) { 
                p.play().catch(()=>{}); 
                b.style.animation = "spin 4s linear infinite";
                b.innerText = "ğŸ¡";
            } else { 
                p.pause(); 
                b.style.animation = ""; 
                b.innerText = "ğŸµ";
            }
        }
    };

    const social = {
        async share() {
            const data = { title: 'é©¬å¹´è´ºå²', text: 'ç¥ä½ 2026é©¬åˆ°æˆåŠŸï¼ğŸ', url: window.location.href };
            try {
                if(navigator.share) await navigator.share(data);
                else { navigator.clipboard.writeText(data.text); alert("ç¥ç¦è¯­å·²å¤åˆ¶ï¼"); }
            } catch(e){}
        }
    };

    return { boot: () => { fx.init(); sensors.init(); }, fx, ui, audio, social };
})();

// å…¨å±€å¯åŠ¨
document.addEventListener('DOMContentLoaded', () => {
    App.boot();
    // ç›‘å¬å…¨å±€ç©ºç™½å¤„ç‚¹å‡»ä»¥ç‡ƒæ”¾çƒŸèŠ±
    window.addEventListener('mousedown', (e) => {
        if(e.target.closest('.hero-panel') || e.target.closest('.modal-dialog') || e.target.closest('.luck-bag-trigger')) return;
        App.fx.manual(e);
    });
});
</script>
<style> @keyframes spin { from{transform:rotate(0)} to{transform:rotate(360deg)} } </style>
</body>
</html>
